{"_path":"/installation/docker","_dir":"installation","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Docker","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"docker"},"children":[{"type":"text","value":"Docker"}]},{"type":"element","tag":"h2","props":{"id":"overview"},"children":[{"type":"text","value":"Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ViewTube can be run in a Docker container. You will need to have "},{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/get-docker/","rel":["nofollow"]},"children":[{"type":"text","value":"Docker"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/compose/install/","rel":["nofollow"]},"children":[{"type":"text","value":"Docker Compose"}]},{"type":"text","value":" installed."}]},{"type":"element","tag":"h2","props":{"id":"version-overview"},"children":[{"type":"text","value":"Version overview"}]},{"type":"element","tag":"h3","props":{"id":"latest"},"children":[{"type":"text","value":"Latest"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"viewtube:latest"}]},{"type":"text","value":" is the latest stable version. It should generally be safe to use. If you don't want to update automatically, you can use the version tag directly.\n"},{"type":"element","tag":"a","props":{"href":"https://hub.docker.com/r/mauriceo/viewtube"},"children":[{"type":"element","tag":"img","props":{"src":"https://img.shields.io/docker/v/mauriceo/viewtube/latest?label=latest&logo=docker&sort=semver"},"children":[]}]}]},{"type":"element","tag":"h3","props":{"id":"dev"},"children":[{"type":"text","value":"Dev"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"viewtube:dev"}]},{"type":"text","value":" is the development version, which means it may contain bugs. However, it will receive fixes faster if YouTube changes something.\n"},{"type":"element","tag":"a","props":{"href":"https://hub.docker.com/r/mauriceo/viewtube","rel":["nofollow"]},"children":[{"type":"element","tag":"img","props":{"alt":"Docker Image Version (latest semver)","src":"https://img.shields.io/docker/v/mauriceo/viewtube/dev?label=dev&logo=docker&sort=semver"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"setup"},"children":[{"type":"text","value":"Setup"}]},{"type":"element","tag":"h3","props":{"id":"environment-variables"},"children":[{"type":"text","value":"Environment variables"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check the "},{"type":"element","tag":"a","props":{"href":"/installation/configuration"},"children":[{"type":"text","value":"configuration page"}]},{"type":"text","value":" for more information about the environment variables."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the purpose of this guide, we will use the following environment variables:"}]},{"type":"element","tag":"code","props":{"className":["language-yaml"],"code":"VIEWTUBE_DATABASE_HOST: viewtube-mongodb\nVIEWTUBE_REDIS_HOST: viewtube-redis\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"VIEWTUBE_DATABASE_HOST"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube-mongodb\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"VIEWTUBE_REDIS_HOST"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube-redis"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"docker-compose-file"},"children":[{"type":"text","value":"Docker-compose file"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a folder for your ViewTube instance."}]},{"type":"element","tag":"code","props":{"className":["language-bash"],"code":"mkdir viewtube\ncd viewtube\n","language":"bash","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Inside, create a file named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docker-compose.yml"}]},{"type":"text","value":" with the following contents:"}]},{"type":"element","tag":"code","props":{"className":["language-yaml"],"code":"version: '3'\n\nservices:\n  viewtube:\n    restart: unless-stopped\n    # Or use mauriceo/viewtube:dev for the development version\n    image: mauriceo/viewtube:latest\n    # ViewTube will not start until the database and redis are ready\n    depends_on:\n      - viewtube-mongodb\n      - viewtube-redis\n    # Make sure all services are in the same network\n    networks:\n      - viewtube\n    volumes:\n      # This will map ViewTube's data directory to the local folder ./data/viewtube/\n      - ./data/viewtube:/data\n    environment:\n      - VIEWTUBE_DATABASE_HOST=viewtube-mongodb\n      - VIEWTUBE_REDIS_HOST=viewtube-redis\n    ports:\n      - 8066:8066\n\n  viewtube-mongodb:\n    restart: unless-stopped\n    image: mongo:5\n    networks:\n      - viewtube\n    volumes:\n      - ./data/db:/data/db\n\n  viewtube-redis:\n    restart: unless-stopped\n    image: redis:7\n    networks:\n      - viewtube\n    volumes:\n      - ./data/redis:/data\n\nnetworks:\n  viewtube:\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"version"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'3'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"viewtube"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"restart"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"unless-stopped\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"# Or use mauriceo/viewtube:dev for the development version\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"mauriceo/viewtube:latest\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"# ViewTube will not start until the database and redis are ready\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"depends_on"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube-mongodb\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube-redis\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"# Make sure all services are in the same network\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"networks"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"volumes"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"# This will map ViewTube's data directory to the local folder ./data/viewtube/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"./data/viewtube:/data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"environment"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"VIEWTUBE_DATABASE_HOST=viewtube-mongodb\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"VIEWTUBE_REDIS_HOST=viewtube-redis\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"ports"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"8066:8066\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"viewtube-mongodb"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"restart"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"unless-stopped\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"mongo:5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"networks"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"volumes"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"./data/db:/data/db\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"viewtube-redis"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"restart"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"unless-stopped\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"image"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"redis:7\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"networks"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"viewtube\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"volumes"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"      - "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"./data/redis:/data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"networks"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"viewtube"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":":"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-680237{color:#85E89D;}\n.ct-680237{color:#22863A;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}\n.ct-086898{color:#6A737D;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"overview","depth":2,"text":"Overview"},{"id":"version-overview","depth":2,"text":"Version overview","children":[{"id":"latest","depth":3,"text":"Latest"},{"id":"dev","depth":3,"text":"Dev"}]},{"id":"setup","depth":2,"text":"Setup","children":[{"id":"environment-variables","depth":3,"text":"Environment variables"},{"id":"docker-compose-file","depth":3,"text":"Docker-compose file"}]}]}},"_type":"markdown","_id":"content:2.installation:1.docker.md","_source":"content","_file":"2.installation/1.docker.md","_extension":"md"}